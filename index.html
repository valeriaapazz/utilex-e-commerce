<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Utilex ‚Äì E-commerce</title>

<style>
:root{
  --verde: #28a745;
  --azul:  #007bff;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI', sans-serif;
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 25px;
  background:#7ed957;
  border-bottom:3px solid var(--azul);
  flex-wrap:wrap;
  gap:15px;
}

.header-left{
  display:flex;
  align-items:center;
  gap:12px;
  flex:1;
  min-width:200px;
}

.logo{
  height:55px;
  animation:fadeIn 1.2s ease;
}

.header-text .brand{
  font-size:24px;
  font-weight:700;
  color:white;
  text-shadow:2px 2px 4px rgba(0,0,0,0.3);
}

.header-text .slogan{
  font-size:14px;
  font-weight:500;
  color:white;
}

.search-box{
  flex:0 1 300px;
}

.search-box input{
  padding:10px 15px;
  font-size:16px;
  border:2px solid white;
  border-radius:20px;
  width:100%;
  transition:0.3s;
}
.search-box input:focus{
  outline:none;
  border-color:var(--azul);
  box-shadow:0 0 10px rgba(255,255,255,0.5);
}

@media (max-width: 768px){
  header{
    padding:12px 15px;
  }
  
  .logo{
    height:45px;
  }
  
  .header-text .brand{
    font-size:20px;
  }
  
  .header-text .slogan{
    font-size:12px;
  }
  
  .search-box{
    flex:1 1 100%;
    order:3;
  }
}

.main-banner{
  width:100%;
  background:#f8f9fa;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

.main-banner img{
  width:100%;
  height:auto;
  display:block;
  object-fit:contain;
  max-height:400px;
  animation:slideDown 0.8s ease;
}

@media (max-width: 768px){
  .main-banner img{
    max-height:250px;
  }
}

@media (max-width: 480px){
  .main-banner img{
    max-height:180px;
  }
}

body{
  background:#f2f2f2;
  padding-bottom:50px;
}

.contenido-principal{
  display:flex;
  gap:25px;
  padding:25px;
  max-width:1400px;
  margin:0 auto;
}

.productos-lado{
  flex:1;
  min-width:0;
}

.carrito-lado{
  width:350px;
  flex-shrink:0;
}

.section-container{
  width:100%;
}

h2{
  font-size:22px;
  color:var(--azul);
  margin-bottom:18px;
  animation:fadeIn 0.7s ease;
}

@media (max-width: 900px){
  .contenido-principal{
    flex-direction:column;
    padding:15px;
    gap:20px;
  }
  
  .carrito-lado{
    width:100%;
  }
  
  h2{
    font-size:20px;
    text-align:center;
  }
}

@media (max-width: 480px){
  .contenido-principal{
    padding:10px;
  }
  
  h2{
    font-size:18px;
  }
}

.circulos-categorias{
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  justify-content:center;
  margin-bottom:30px;
}

.circulo{
  width:120px;
  height:120px;
  background:var(--verde);
  color:white;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  font-weight:600;
  padding:10px;
  cursor:pointer;
  font-size:14px;
  transition:0.3s;
  animation:popIn 0.6s ease;
}
.circulo:hover{
  transform:scale(1.1);
  background:var(--azul);
}

@media (max-width: 768px){
  .circulos-categorias{
    gap:12px;
    margin-bottom:20px;
  }
  
  .circulo{
    width:100px;
    height:100px;
    font-size:13px;
  }
}

@media (max-width: 480px){
  .circulos-categorias{
    gap:10px;
  }
  
  .circulo{
    width:85px;
    height:85px;
    font-size:12px;
    padding:8px;
  }
}

.productos{
  display:none;
  grid-template-columns:repeat(4, 1fr);
  gap:20px;
}

@media (max-width: 1200px){
  .productos{
    grid-template-columns:repeat(3, 1fr);
  }
}

@media (max-width: 900px){
  .productos{
    grid-template-columns:repeat(2, 1fr);
    gap:15px;
  }
}

@media (max-width: 600px){
  .productos{
    grid-template-columns:repeat(2, 1fr);
    gap:12px;
  }
}

@media (max-width: 400px){
  .productos{
    grid-template-columns:repeat(1, 1fr);
  }
}

.product-card{
  background:white;
  padding:15px;
  border-radius:15px;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  text-align:center;
  transition:0.3s;
  animation:fadeIn 0.5s ease;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  min-height:280px;
}
.product-card:hover{
  transform:translateY(-5px);
  border:1px solid var(--azul);
}

.product-card img{
  width:90px;
  height:90px;
  object-fit:contain;
  margin:0 auto 10px;
}

.product-card .nombre{
  font-size:15px;
  font-weight:600;
  margin-bottom:6px;
}
.product-card .precio{
  color:var(--verde);
  font-weight:700;
  margin-bottom:10px;
  font-size:14px;
}

.btn-add{
  background:var(--azul);
  border:none;
  padding:7px 10px;
  color:white;
  border-radius:12px;
  cursor:pointer;
  font-size:13px;
  transition:0.3s;
  width:100%;
}
.btn-add:hover{
  background:var(--verde);
}

.cantidad-box input{
  width:55px;
  padding:4px;
  margin-bottom:8px;
  text-align:center;
  border:1px solid #ccc;
  border-radius:8px;
}

@media (max-width: 480px){
  .product-card{
    min-height:250px;
    padding:12px;
  }
  
  .product-card img{
    width:70px;
    height:70px;
  }
  
  .product-card .nombre{
    font-size:14px;
  }
  
  .product-card .precio{
    font-size:13px;
  }
}

.carrito-section{
  background:white;
  padding:20px;
  border-radius:15px;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  animation:fadeIn 0.8s ease;
  position:sticky;
  top:20px;
  max-height:calc(100vh - 40px);
  overflow-y:auto;
}

.carrito-section h3{
  font-size:18px;
  color:var(--azul);
  margin-bottom:15px;
}

#carritoLista{
  margin-bottom:15px;
  max-height:400px;
  overflow-y:auto;
}

.carrito-item{
  font-size:15px;
  margin-bottom:10px;
  line-height:1.4;
  border-bottom:1px dashed #ddd;
  padding-bottom:5px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}

.carrito-item-info{
  flex:1;
  word-break:break-word;
}

.btn-eliminar{
  background:#dc3545;
  border:none;
  color:white;
  padding:5px 10px;
  border-radius:8px;
  cursor:pointer;
  font-size:12px;
  transition:0.3s;
  flex-shrink:0;
}
.btn-eliminar:hover{
  opacity:0.8;
}

#carritoTotal{
  font-size:17px;
  font-weight:700;
  color:var(--verde);
  margin-bottom:12px;
}

.btn-vaciar{
  padding:8px 12px;
  border:none;
  border-radius:10px;
  background:#dc3545;
  color:white;
  cursor:pointer;
  font-size:14px;
  transition:0.3s;
  margin-right:10px;
  margin-bottom:10px;
}
.btn-vaciar:hover{
  opacity:0.8;
}

@media (max-width: 900px){
  .carrito-section{
    position:static;
    max-height:none;
  }
  
  #carritoLista{
    max-height:300px;
  }
}

@media (max-width: 480px){
  .carrito-section{
    padding:15px;
  }
  
  .carrito-section h3{
    font-size:16px;
  }
  
  .carrito-item{
    font-size:14px;
  }
  
  #carritoTotal{
    font-size:16px;
  }
  
  .btn-vaciar, .btn-add{
    width:100%;
    margin-right:0;
    margin-bottom:8px;
  }
}

.payment-overlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  justify-content:center;
  align-items:center;
  padding:20px;
  animation:fadeIn 0.5s ease;
  z-index:1000;
}

.payment-box{
  background:white;
  width:100%;
  max-width:360px;
  padding:22px;
  border-radius:18px;
  animation:slideUp 0.6s ease;
  max-height:90vh;
  overflow-y:auto;
}

.payment-box h4{
  color:var(--verde);
  font-size:19px;
  margin-bottom:12px;
}

.payment-box input{
  width:100%;
  padding:10px;
  border:1px solid #ccc;
  border-radius:10px;
  margin-bottom:12px;
  font-size:15px;
  box-sizing:border-box;
}

.payment-method{
  display:flex;
  gap:10px;
  margin:10px 0 18px;
  flex-wrap:wrap;
}

.btn-method{
  flex:1;
  min-width:120px;
  padding:10px;
  border-radius:10px;
  border:none;
  color:white;
  font-weight:600;
  cursor:pointer;
  transition:0.3s;
}
#btnYape{ background:#720e9e; }
#btnTarjeta{ background:var(--azul); }

#btnPagarAhora{
  width:100%;
  padding:12px;
  background:var(--verde);
  color:white;
  border:none;
  border-radius:12px;
  font-size:15px;
  font-weight:700;
  cursor:pointer;
  margin-bottom:10px;
  transition:0.3s;
}
#btnPagarAhora:hover{
  opacity:0.85;
}

#btnCerrarPago{
  width:100%;
  padding:10px;
  background:#6c757d;
  color:white;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-size:14px;
}

@media (max-width: 480px){
  .payment-box{
    padding:18px;
    max-width:95%;
  }
  
  .payment-box h4{
    font-size:17px;
  }
  
  .payment-method{
    flex-direction:column;
  }
  
  .btn-method{
    width:100%;
  }
}

.no-resultados{
  text-align:center;
  padding:20px;
  color:#666;
  font-style:italic;
}

@keyframes fadeIn{ from{opacity:0} to{opacity:1}}
@keyframes popIn{ 0%{transform:scale(0.7);opacity:0} 100%{transform:scale(1);opacity:1}}
@keyframes slideDown{ from{transform:translateY(-25px);opacity:0} to{transform:translateY(0);opacity:1}}
@keyframes slideUp{ from{transform:translateY(40px);opacity:0} to{transform:translateY(0);opacity:1}}
</style>
</head>

<body>

<header>
  <div class="header-left">
    <img class="logo" src="https://github.com/valeriaapazz/utilex-e-commerce/raw/main/img/logo.png" alt="Utilex logo" onerror="this.style.display='none'"/>
    <div class="header-text">
      <div class="brand">Utilex</div>
      <div class="slogan">Todo para tu lista escolar</div>
    </div>
  </div>

  <div class="search-box">
    <input type="text" id="searchInput" placeholder="üîç Buscar productos‚Ä¶" onkeyup="buscarProductos()"/>
  </div>
</header>

<section class="main-banner">
  <img src="https://github.com/valeriaapazz/utilex-e-commerce/raw/main/img/banner.png" alt="Banner Utilex"
  onerror="this.outerHTML='<div style=\'background:linear-gradient(135deg, #28a745, #007bff);text-align:center;padding:80px 20px;color:white;font-size:28px;font-weight:bold\'>üéí UTILEX - Todo para tu lista escolar üìö</div>'"/>
</section>

<div class="contenido-principal">
  
<div class="productos-lado">
<div class="section-container">

<h2>SECCI√ìN 1: √öTILES ESCOLARES</h2>
<div class="circulos-categorias">

  <div class="circulo" onclick="mostrarProductos('cuadernos')">üìò Cuadernos</div>
  <div class="circulo" onclick="mostrarProductos('escritura')">‚úèÔ∏è L√°pices y Lapiceros</div>
  <div class="circulo" onclick="mostrarProductos('mochilas')">üéí Mochilas</div>
  <div class="circulo" onclick="mostrarProductos('colores')">üé® Colores</div>

</div>

<div id="cuadernos" class="productos">
  <div class="product-card" data-nombre="cuaderno a4"><img src="https://github.com/valeriaapazz/utilex-e-commerce/raw/main/img/Cuaderno%20cuadriculado%20anillado.png" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'90\' height=\'90\'%3E%3Crect fill=\'%2328a745\' width=\'90\' height=\'90\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-size=\'30\' fill=\'white\'%3Eüìò%3C/text%3E%3C/svg%3E'"/><div class="nombre">Cuaderno A4</div><div class="precio">S/12.50</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">A√±adir</button></div>
</div>

<div id="escritura" class="productos">
  <div class="product-card" data-nombre="lapicero azul"><img src="https://github.com/valeriaapazz/utilex-e-commerce/raw/main/img/lapicero%20azul.png" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'90\' height=\'90\'%3E%3Crect fill=\'%23007bff\' width=\'90\' height=\'90\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-size=\'30\' fill=\'white\'%3E‚úèÔ∏è%3C/text%3E%3C/svg%3E'"/><div class="nombre">Lapicero azul</div><div class="precio">S/2.00</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">Agregar</button></div>
</div>

<div id="mochilas" class="productos">
  <div class="product-card" data-nombre="mochila escolar"><img src="https://github.com/valeriaapazz/utilex-e-commerce/raw/main/img/Mochila%20Dragon.png" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'90\' height=\'90\'%3E%3Crect fill=\'%2328a745\' width=\'90\' height=\'90\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-size=\'30\' fill=\'white\'%3Eüéí%3C/text%3E%3C/svg%3E'"/><div class="nombre">Mochila escolar</div><div class="precio">S/75.00</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">Agregar</button></div>
</div>

<div id="colores" class="productos">
  <div class="product-card" data-nombre="caja colores"><img src="https://github.com/valeriaapazz/utilex-e-commerce/raw/main/img/caja%20de%20colores.png" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'90\' height=\'90\'%3E%3Crect fill=\'%23ff6b6b\' width=\'90\' height=\'90\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' font-size=\'30\' fill=\'white\'%3Eüé®%3C/text%3E%3C/svg%3E'"/><div class="nombre">Caja colores</div><div class="precio">S/18.90</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">Agregar</button></div>
</div>

</div>
</div>

<div class="carrito-lado">
<section class="carrito-section">
  <h3>üõí Carrito de compras</h3>
  <div id="carritoLista"></div>
  <div id="carritoTotal">Total: S/ 0.00</div>
  <button class="btn-vaciar" onclick="vaciarCarrito()">Vaciar carrito</button>
  <button id="btnPagar" onclick="abrirPago()" class="btn-add">Pagar</button>
</section>
</div>

</div>

<div class="payment-overlay" id="paymentOverlay">
  <div class="payment-box">
    <h4>üí≥ Simulaci√≥n de pago</h4>
    <input type="text" id="nombreCliente" placeholder="Ingresa tu nombre"/>
    <p>Elige m√©todo de pago:</p>
    <div class="payment-method">
      <button class="btn-method" id="btnYape" onclick="seleccionarMetodo('Yape')">YAPE</button>
      <button class="btn-method" id="btnTarjeta" onclick="seleccionarMetodo('Tarjeta')">TARJETA</button>
    </div>
    <button id="btnPagarAhora" onclick="pagar()">Pagar ahora</button>
    <button id="btnCerrarPago" onclick="cerrarPago()">Cancelar / Volver</button>
  </div>
</div>

<script>
let carrito = [];
let metodoPago = null;

function mostrarProductos(id){
  document.querySelectorAll('.productos').forEach(e => e.style.display='none');
  document.getElementById(id).style.display='grid';
  document.getElementById('searchInput').value = '';
}

function buscarProductos(){
  const busqueda = document.getElementById('searchInput').value.toLowerCase().trim();
  
  if(busqueda === ''){
    document.querySelectorAll('.productos').forEach(e => e.style.display='none');
    return;
  }
  
  let encontrados = 0;
  
  document.querySelectorAll('.productos').forEach(seccion => {
    const productos = seccion.querySelectorAll('.product-card');
    let hayResultados = false;
    
    productos.forEach(card => {
      const nombre = card.getAttribute('data-nombre') || card.querySelector('.nombre').innerText.toLowerCase();
      
      if(nombre.includes(busqueda)){
        card.style.display = 'block';
        hayResultados = true;
        encontrados++;
      } else {
        card.style.display = 'none';
      }
    });
    
    seccion.style.display = hayResultados ? 'grid' : 'none';
  });
  
  if(encontrados === 0){
    document.querySelectorAll('.productos').forEach(e => e.style.display='none');
    if(!document.querySelector('.no-resultados')){
      const msg = document.createElement('div');
      msg.className = 'no-resultados';
      msg.textContent = '‚ùå No se encontraron productos con ese nombre';
      document.querySelector('.section-container').appendChild(msg);
      setTimeout(() => msg.remove(), 3000);
    }
  }
}

function addCarrito(btn){
  const card = btn.closest('.product-card');
  const nombre = card.querySelector('.nombre').innerText;
  const precio = parseFloat(card.querySelector('.precio').innerText.replace('S/',''));
  const input = card.querySelector('input');
  const cantidad = parseInt(input.value);
  const max = parseInt(input.dataset.max);

  if(cantidad > max){
    alert(`Solo puedes agregar m√°ximo ${max} unidades por producto`);
    return;
  }

  const existente = carrito.find(p => p.nombre === nombre);
  if(existente){
    existente.cantidad += cantidad;
    if(existente.cantidad > 12){
      alert("No puedes comprar m√°s de 12 unidades de un mismo producto");
      existente.cantidad = 12;
    }
  } else {
    carrito.push({nombre, precio, cantidad});
  }

  actualizarCarrito();
}

function eliminarProducto(nombre){
  carrito = carrito.filter(p => p.nombre !== nombre);
  actualizarCarrito();
}

function actualizarCarrito(){
  const caja = document.getElementById('carritoLista');
  const totalCaja = document.getElementById('carritoTotal');
  caja.innerHTML = '';

  let total = 0;
  let totalProductos = 0;

  carrito.forEach(p => {
    total += p.precio * p.cantidad;
    totalProductos += p.cantidad;
    caja.innerHTML += `
      <div class="carrito-item">
        <div class="carrito-item-info">${p.nombre} x${p.cantidad} ‚Äî S/${(p.precio * p.cantidad).toFixed(2)}</div>
        <button class="btn-eliminar" onclick="eliminarProducto('${p.nombre}')">‚ùå</button>
      </div>`;
  });

  if(totalProductos > 12){
    alert("El carrito no puede tener m√°s de 12 productos en total");
    carrito = [];
    caja.innerHTML = '';
    total = 0;
  }

  totalCaja.innerText = `Total: S/ ${total.toFixed(2)}`;
}

function vaciarCarrito(){
  carrito = [];
  actualizarCarrito();
}

function abrirPago(){
  if(carrito.length === 0){
    alert("El carrito est√° vac√≠o");
    return;
  }
  document.getElementById('paymentOverlay').style.display='flex';
}

function seleccionarMetodo(m){
  metodoPago = m;
  alert(`M√©todo seleccionado: ${m}`);
}

function pagar(){
  const nombre = document.getElementById('nombreCliente').value.trim();
  if(!nombre){
    alert("Debes escribir tu nombre");
    return;
  }
  if(!metodoPago){
    alert("Debes seleccionar un m√©todo de pago");
    return;
  }

  alert(`‚úÖ Pago simulado con ${metodoPago} a nombre de ${nombre}`);
  cerrarPago();
  vaciarCarrito(); 
  document.querySelectorAll('.productos').forEach(e => e.style.display='none');
}

function cerrarPago(){
  document.getElementById('paymentOverlay').style.display='none';
}
</script>

</body>
</html>
