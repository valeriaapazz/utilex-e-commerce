<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Utilex - Todo para la lista escolar</title>

  <style>
    :root{
      --blue:#0b63ce;
      --blue-dark:#094a99;
      --green:#2fa52f;
      --card:#ffffff;
      --muted:#6b7280;
      --radius:12px;
      --shadow: 0 8px 20px rgba(12,38,84,0.08);
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family: Inter, Roboto, Arial, sans-serif;
      background: linear-gradient(180deg,#e4f4cc 0%, #eaf8e8 100%);
      color:#0b1b2b;
      padding-bottom:40px;
    }

    /* HEADER CON LOGO IZQUIERDA Y BUSCADOR DERECHA */
    header{
      background:var(--blue);
      color:white;
      padding:14px 20px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      box-shadow: 0 6px 18px rgba(11,99,206,0.14);
    }

    header img.logo{
      height:56px;
      width:auto;
      border-radius:8px;
      padding:4px;
    }

    .search-bar input{
      width:260px;
      padding:10px;
      font-size:15px;
      border-radius:8px;
      border:none;
      outline:none;
      box-shadow: 0 4px 10px rgba(0,0,0,0.12);
    }

    /* BANNER */
    .main-banner{
      padding: 0 18px;
      max-width:1100px;
      margin:15px auto;
    }
    .main-banner img{
      width:100%;
      height:auto;
      border-radius:8px;
      box-shadow: var(--shadow);
    }

    /* SECCIONES EN C√çRCULOS */
    .sections{
      display:flex;
      justify-content:center;
      gap:30px;
      margin-top:40px;
      flex-wrap:wrap;
    }
    .section-circle{
      width:150px;
      height:150px;
      background:var(--card);
      border-radius:50%;
      box-shadow:var(--shadow);
      display:flex;
      justify-content:center;
      align-items:center;
      cursor:pointer;
      font-weight:700;
      font-size:14px;
      text-align:center;
      padding:10px;
      transition:transform 0.2s;
    }
    .section-circle:hover{
      transform:scale(1.07);
    }

    /* LAYOUT PRINCIPAL */
    .wrap{
      max-width:1100px;
      margin:22px auto;
      padding:0 18px;
      display:none;
      grid-template-columns: 1fr 360px;
      gap:20px;
      align-items:start;
    }

    /* PRODUCTOS */
    .catalogue h2{
      text-align:center;
      color:var(--blue-dark);
      margin-bottom:20px;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(230px,1fr));
      gap:16px;
    }
    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:12px;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .card img{
      width:100%;
      height:150px;
      object-fit:contain;
      background:#f3f3f3;
      border-radius:8px;
    }

    .price{ font-weight:700; color:var(--blue-dark); }
    .controls{
      display:flex;
      gap:8px;
      align-items:center;
      margin-top:auto;
    }
    .controls input{
      width:58px;
      padding:6px;
      border-radius:6px;
      border:1px solid #ddd;
      font-size:14px;
    }
    .btn{
      background:var(--blue);
      flex:1;
      color:white;
      border:none;
      padding:8px;
      border-radius:6px;
      cursor:pointer;
      font-weight:700;
    }
    .btn:hover{ background:var(--blue-dark); }

    /* CARRITO */
    #carrito{
      position:sticky;
      top:18px;
      background:var(--card);
      padding:16px;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }

    #lista{
      list-style:none;
      padding:0;
      margin:0;
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height:400px;
      overflow:auto;
    }

    .item{
      display:flex;
      gap:10px;
      align-items:center;
      padding:8px;
      border-radius:8px;
      animation:pop .3s ease;
    }

    .item img{
      width:50px;
      height:50px;
      object-fit:contain;
      border-radius:6px;
      background:#f3f3f3;
      padding:3px;
    }

    .item .meta{ flex:1; }
    .item .meta b{ display:block; font-size:14px; }
    .item .meta small{ color:var(--muted); font-size:12px; }

    .qty{
      display:flex;
      gap:6px;
      align-items:center;
      font-weight:700;
    }

    .qty button{
      padding:5px 8px;
      border-radius:6px;
      border:1px solid #bbb;
      background:#fff;
      cursor:pointer;
      font-weight:700;
    }
    .qty button:hover{ background:#e5e5e5 }

    .remove{
      background:transparent;
      color:red;
      border:none;
      font-size:16px;
      cursor:pointer;
      font-weight:700;
    }

    .pay{
      display:flex;
      gap:10px;
      margin-top:15px;
    }
    .btn-pay{
      flex:1;
      background:var(--green);
      border:none;
      padding:10px;
      border-radius:6px;
      color:white;
      font-weight:700;
      cursor:pointer;
    }
    .btn-pay:hover{ background:#1f7c1f }
    .btn-empty{
      flex:1;
      background:transparent;
      border:1px solid #ccc;
      padding:10px;
      border-radius:6px;
      cursor:pointer;
      font-weight:700;
    }

    @keyframes pop {
      0%{transform:scale(.95); opacity:.5}
      60%{transform:scale(1.04)}
      100%{transform:scale(1); opacity:1}
    }
  </style>
</head>

<body>

<header>
  <img class="logo" src="img/logo.png" alt="">
  <div class="search-bar">
    <input type="text" id="buscador" placeholder="üîç Buscar productos..." onkeyup="filtrarProductos()">
  </div>
</header>

<!-- BANNER DEBAJO DEL HEADER -->
<section class="main-banner">
  <img src="img/banner.png" alt="">
</section>

<!-- MEN√ö DE SECCIONES -->
<div class="sections" id="sectionMenu">
  <div class="section-circle" onclick="mostrarSeccion('escolares')">√öTILES ESCOLARES</div>
  <div class="section-circle" onclick="mostrarSeccion('oficina')">MATERIALES DE OFICINA</div>
</div>

<div class="wrap">
  <section class="catalogue">
    <h2 id="tituloSeccion">Todo para la lista escolar</h2>
    <div class="grid" id="productsGrid"></div>
    <button class="btn empty-btn" onclick="volver()">‚¨Ö Volver</button>
  </section>

  <aside>
    <div id="carrito">
      <h2>üõí Carrito</h2>
      <ul id="lista"></ul>
      <h3 id="totalText">S/ 0.00</h3>
      <div class="pay">
        <button class="btn-pay" onclick="pagar()">üí≥ Pagar</button>
        <button class="btn-empty" onclick="vaciar()">üóë Vaciar</button>
      </div>
    </div>
  </aside>
</div>

<script>
  const productos = [
      { id:'cuaderno', nombre:'Cuaderno cuadriculado anillado', precio:12.50, img:'img/Cuaderno cuadriculado anillado.png', seccion:'escolares' },
      { id:'lapicero', nombre:'Lapicero Azul', precio:2.00, img:'img/lapicero azul.png', seccion:'escolares' },
      { id:'mochila', nombre:'Mochila Dragon', precio:75.00, img:'img/Mochila Dragon.png', seccion:'escolares' },
      { id:'colores', nombre:'Caja de Colores', precio:18.90, img:'img/caja de colores.png', seccion:'escolares' },
      { id:'resma', nombre:'Resma de Papel Bond A4', precio:22.00, img:'img/resma.png', seccion:'oficina' }
  ];

  let carrito = [];

  function mostrarSeccion(sec){
    document.getElementById('sectionMenu').style.display='none';
    document.querySelector('.wrap').style.display='grid';
    renderProductos(sec);
  }

  function renderProductos(seccion){
    const grid = document.getElementById('productsGrid');
    grid.innerHTML='';
    document.getElementById('tituloSeccion').textContent = 
      seccion === 'escolares' ? 'Todo para la lista escolar' : 'Todo para la oficina';

    productos.filter(p => p.seccion === seccion).forEach(p => {
      grid.innerHTML += `
      <article class="card">
        <img src="${p.img}">
        <h3>${p.nombre}</h3>
        <p class="price">S/ ${p.precio.toFixed(2)}</p>
        <div class="controls">
          <input type="number" min="1" max="12" value="1" id="cant-${p.id}">
          <button class="btn" onclick="agregar('${p.id}')">Agregar</button>
        </div>
      </article>`;
    });
  }

  function filtrarProductos(){
    const texto = document.getElementById('buscador').value.toLowerCase();
    document.querySelector('.wrap').style.display='grid';
    document.getElementById('sectionMenu').style.display='none';
    document.getElementById('tituloSeccion').textContent='Resultados de b√∫squeda';
    const grid = document.getElementById('productsGrid');
    grid.innerHTML='';
    productos.filter(p => p.nombre.toLowerCase().includes(texto)).forEach(p=>{
      grid.innerHTML += `
      <article class="card">
        <img src="${p.img}">
        <h3>${p.nombre}</h3>
        <p class="price">S/ ${p.precio.toFixed(2)}</p>
        <div class="controls">
          <input type="number" min="1" max="12" value="1" id="cant-${p.id}">
          <button class="btn" onclick="agregar('${p.id}')">Agregar</button>
        </div>
      </article>`;
    });
  }

  function agregar(id){
    const prod = productos.find(p=>p.id===id);
    const cant = parseInt(document.getElementById(`cant-${id}`).value) || 1;

    const existe = carrito.find(i=>i.id===id);
    if(existe){
      if(existe.cantidad + cant > 12){
        alert('M√°ximo 12 unidades por producto.');
        return;
      }
      existe.cantidad += cant;
    } else carrito.push({id, nombre:prod.nombre, precio:prod.precio, cantidad:cant, img:prod.img});
    renderCarrito();
  }

  function renderCarrito(){
    const lista = document.getElementById('lista');
    lista.innerHTML='';
    let total=0;
    carrito.forEach((i,idx)=>{
      total+= i.precio * i.cantidad;
      lista.innerHTML+=`
      <li class='item'>
        <img src="${i.img}">
        <div class='meta'><b>${i.nombre}</b><small>S/ ${i.precio.toFixed(2)}</small></div>
        <div class='qty'>
          <button onclick="cambiar(${idx},1)">+</button>
          <span>${i.cantidad}</span>
          <button onclick="cambiar(${idx},-1)">‚àí</button>
          <button class='remove' onclick="eliminar(${idx})">√ó</button>
        </div>
      </li>`;
    });
    totalText.textContent = `S/ ${total.toFixed(2)}`;
  }

  function cambiar(idx,val){
    if(carrito[idx].cantidad + val > 12){
      alert('L√≠mite 12');
      return;
    }
    carrito[idx].cantidad = Math.max(1, carrito[idx].cantidad + val);
    renderCarrito();
  }

  function eliminar(idx){
    carrito.splice(idx,1);
    renderCarrito();
  }

  function vaciar(){
    carrito=[]; renderCarrito();
  }

  function pagar(){
    const total = carrito.reduce((s,i)=>s+i.precio*i.cantidad,0);
    const name = prompt('Nombre para simular pago');
    alert(`‚úÖ Pago simulado\nCliente: ${name}\nTotal: S/ ${total.toFixed(2)}`);
    carrito=[]; renderCarrito();
  }
</script>

</body>
</html>
