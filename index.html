<!DOCTYPE html>
<html lang="es">
<head>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Utilex - Todo para la lista escolar</title>

  <style>
    :root{
      --blue:#0b63ce;
      --blue-dark:#094a99;
      --green:#2fa52f;
      --bg:#eaf8e8;
      --card:#ffffff;
      --muted:#6b7280;
      --radius:12px;
      --shadow: 0 8px 20px rgba(12,38,84,0.08);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, Roboto, Arial, sans-serif;
      background: linear-gradient(180deg,#e4f4cc 0%, #eaf8e8 100%);
      color:#0b1b2b;
      padding-bottom:40px;
    }

    header{
      background:var(--blue);
      color:white;
      padding:18px 20px;
      display:flex;
      align-items:center;
      gap:16px;
    }
    header img.logo{
      height:56px;
      padding:6px;
      border-radius:10px;
      background: white;
    }

    .main-banner img {
      width: 100%;
      height: auto;
      display: block;
      max-height: 260px;
      object-fit: cover;
    }

    .wrap{
      max-width:1100px;
      margin:22px auto;
      padding:0 18px;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:20px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(230px,1fr));
      gap:16px;
    }
    .card{
      background:var(--card);
      padding:12px;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      transition:transform .18s;
    }
    .card:hover{ transform:translateY(-6px); }
    .card img{
      width:100%;
      height:160px;
      object-fit:cover;
      border-radius:8px;
    }
    .price{ font-weight:700; color:var(--blue-dark); }
    .controls{ display:flex; gap:8px; margin-top:6px; }
    .controls input{
      width:66px;
      padding:6px;
      border-radius:6px;
      border:1px solid #ddd;
    }
    .btn{
      background:var(--blue);
      color:white;
      border:none;
      padding:8px 12px;
      border-radius:6px;
      cursor:pointer;
      font-weight:600;
    }
    .btn:hover{ background:var(--blue-dark); }

    #carrito{
      position:sticky;
      top:18px;
      background:white;
      padding:16px;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }
    #lista{ list-style:none; padding:0; margin:0; max-height:380px; overflow:auto; }
    .item{
      display:flex;
      gap:10px;
      padding:8px;
      align-items:center;
    }
    .item img{ width:54px; height:54px; border-radius:6px; object-fit:cover; }
    .meta{ flex:1; }
    .meta b{ font-size:14px; display:block; }
    .meta small{ color:#666; font-size:12px; }
    .qty{ display:flex; gap:6px; align-items:center; }
    .small-btn{
      background:#dbeafe;
      border:1px solid #bfdbfe;
      padding:4px 8px;
      border-radius:4px;
      cursor:pointer;
      font-size:14px;
      font-weight:700;
    }
    .remove{
      border:none;
      background:transparent;
      color:red;
      font-size:15px;
      cursor:pointer;
      font-weight:900;
    }

    @keyframes pop {
      0%{transform:scale(.95);opacity:.5}
      60%{transform:scale(1.05)}
      100%{transform:scale(1);opacity:1}
    }
    .flash{ animation:pop .28s ease; }

    @media (max-width:780px){
      .wrap{ grid-template-columns:1fr; }
      #carrito{ position:static; }
    }
  </style>
</head>

<body>

<!-- âœ… COLOCACIÃ“N CORRECTA DEL BANNER -->
<section class="main-banner">
  <img src="img/banner.png" alt="Banner Utilex" />
</section>

<!-- HEADER -->
<header>
  <img class="logo" src="img/logo.png" alt="Utilex logo">
  <div>
    <h1>Utilex</h1>
    <p>Todo para la lista escolar</p>
  </div>
</header>

<div class="wrap">

  <!-- PRODUCTOS -->
  <section class="catalogue">
    <h2>Ãštiles escolares</h2>
    <div class="grid" id="productsGrid"></div>
  </section>

  <!-- CARRITO -->
  <aside>
    <div id="carrito">
      <h2>ðŸ›’ Carrito</h2>
      <ul id="lista"></ul>
      <div class="totals">
        <strong id="totalText">S/ 0.00</strong>
      </div>
      <div class="pay">
        <button class="btn-pay" id="payBtn">ðŸ’³ Pagar</button>
        <button class="btn-empty" id="emptyBtn">Vaciar carrito</button>
      </div>
    </div>
  </aside>

</div>

<script>
  const productos = [
    {
      id:'lapicero',
      nombre:'Lapicero Azul',
      precio:2.00,
      img:'img/lapicero%20azul.png'
    },
    {
      id:'cuaderno',
      nombre:'Cuaderno cuadriculado anillado',
      precio:12.50,
      img:'img/Cuaderno%20cuadriculado%20anillado.png'
    },
    {
      id:'mochila',
      nombre:'Mochila Dragon',
      precio:75.00,
      img:'img/Mochila%20Dragon.png'
    },
    {
      id:'colores',
      nombre:'Caja de colores',
      precio:18.90,
      img:'img/caja%20de%20colores.png'
    }
  ];

  let carrito = [];

  const grid = document.getElementById('productsGrid');
  const lista = document.getElementById('lista');
  const totalText = document.getElementById('totalText');

  function agregarCarrito(id, cantidad){
    const prod = productos.find(x => x.id === id);
    const existe = carrito.find(i => i.id === id);
    if(existe){
      existe.cantidad += cantidad;
    } else {
      carrito.push({...prod, cantidad});
    }
    renderCarrito();
  }

  function renderCarrito(){
    lista.innerHTML = '';
    let total = 0;
    carrito.forEach((item, idx) => {
      total += item.precio * item.cantidad;
      const li = document.createElement('li');
      li.className = 'item';
      li.innerHTML = `
        <img src="${item.img}" onerror="this.style.opacity=.4">
        <div class="meta">
          <b>${item.nombre}</b>
          <small>S/ ${item.precio.toFixed(2)}</small>
        </div>
        <div class="qty">
          <button class="small-btn" data-act="inc" data-idx="${idx}">+</button>
          <div>${item.cantidad}</div>
          <button class="small-btn" data-act="dec" data-idx="${idx}">âˆ’</button>
          <button class="remove" data-act="rm" data-idx="${idx}">Ã—</button>
        </div>
      `;
      lista.appendChild(li);
    });

    totalText.textContent = `S/ ${total.toFixed(2)}`;

    lista.querySelectorAll('[data-act]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const act = btn.dataset.act;
        const i = btn.dataset.idx;
        if(act === 'inc') carrito[i].cantidad++;
        if(act === 'dec') carrito[i].cantidad = Math.max(1, carrito[i].cantidad - 1);
        if(act === 'rm') carrito.splice(i,1);
        renderCarrito();
      });
    });
  }

  // Render productos
  productos.forEach(p=>{
    const card = document.createElement('article');
    card.className='card';
    card.innerHTML = `
      <img src="${p.img}" onerror="this.style.opacity=.3">
      <h3>${p.nombre}</h3>
      <div class="price">S/ ${p.precio.toFixed(2)}</div>
      <div class="controls">
        <input type="number" min="1" value="1">
        <button class="btn">Agregar</button>
      </div>
    `;
    card.querySelector('.btn').addEventListener('click',()=>{
      const q = parseInt(card.querySelector('input').value) || 1;
      agregarCarrito(p.id, q);
      card.classList.add('flash');
      setTimeout(()=>card.classList.remove('flash'),300);
    });
    grid.appendChild(card);
  });

  // Vaciar carrito
  document.getElementById('emptyBtn').addEventListener('click',()=>{
    carrito = [];
    renderCarrito();
  });

  // SimulaciÃ³n de pago
  document.getElementById('payBtn').addEventListener('click',()=>{
    if(carrito.length === 0) return alert('Carrito vacÃ­o');
    const total = carrito.reduce((s,i)=> s + i.precio * i.cantidad,0);
    const nombre = prompt('Nombre del cliente:');
    if(!nombre) return;
    const metodo = prompt('Medio de pago (Tarjeta, Yape, etc):','Tarjeta');
    alert(`âœ… Pago simulado\nCliente: ${nombre}\nMÃ©todo: ${metodo}\nTotal: S/ ${total.toFixed(2)}`);
    carrito = [];
    renderCarrito();
  });

  renderCarrito();
</script>

</body>
</html>
