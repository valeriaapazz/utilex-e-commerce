<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Utilex ‚Äì E-commerce</title>

<style>
:root{
  --verde: #28a745;
  --azul:  #007bff;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI', sans-serif;
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 25px;
  background:white;
  border-bottom:3px solid var(--azul);
}

.header-left{
  display:flex;
  align-items:center;
  gap:12px;
}

.logo{
  height:55px;
  animation:fadeIn 1.2s ease;
}

.header-text .brand{
  font-size:24px;
  font-weight:700;
  color:var(--verde);
}

.header-text .slogan{
  font-size:14px;
  font-weight:500;
  color:var(--azul);
}

.search-box input{
  padding:10px 15px;
  font-size:16px;
  border:2px solid var(--verde);
  border-radius:20px;
  width:220px;
  transition:0.3s;
}
.search-box input:focus{
  width:260px;
  outline:none;
  border-color:var(--azul);
}

.main-banner img{
  width:100%;
  height:auto;
  display:block;
  object-fit:cover;
  max-height:300px;
  min-height:120px;
  animation:slideDown 0.8s ease;
}

body{
  background:#f2f2f2;
  padding-bottom:50px;
}

.section-container{
  padding:25px;
}

h2{
  font-size:22px;
  color:var(--azul);
  margin-bottom:18px;
  animation:fadeIn 0.7s ease;
}

.circulos-categorias{
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  justify-content:center;
  margin-bottom:30px;
}

.circulo{
  width:120px;
  height:120px;
  background:var(--verde);
  color:white;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  font-weight:600;
  padding:10px;
  cursor:pointer;
  font-size:14px;
  transition:0.3s;
  animation:popIn 0.6s ease;
}
.circulo:hover{
  transform:scale(1.1);
  background:var(--azul);
}

.productos{
  display:none;
  grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));
  gap:20px;
}

.product-card{
  background:white;
  padding:15px;
  border-radius:15px;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  text-align:center;
  transition:0.3s;
  animation:fadeIn 0.5s ease;
}
.product-card:hover{
  transform:translateY(-5px);
  border:1px solid var(--azul);
}

.product-card img{
  width:90px;
  height:90px;
  object-fit:contain;
  margin-bottom:10px;
}

.product-card .nombre{
  font-size:15px;
  font-weight:600;
  margin-bottom:6px;
}
.product-card .precio{
  color:var(--verde);
  font-weight:700;
  margin-bottom:10px;
  font-size:14px;
}

.btn-add{
  background:var(--azul);
  border:none;
  padding:7px 10px;
  color:white;
  border-radius:12px;
  cursor:pointer;
  font-size:13px;
  transition:0.3s;
}
.btn-add:hover{
  background:var(--verde);
}

.cantidad-box input{
  width:55px;
  padding:4px;
  margin-bottom:8px;
  text-align:center;
  border:1px solid #ccc;
  border-radius:8px;
}

.carrito-section{
  background:white;
  padding:20px;
  margin:25px;
  border-radius:15px;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  animation:fadeIn 0.8s ease;
}

.carrito-section h3{
  font-size:18px;
  color:var(--azul);
  margin-bottom:15px;
}

#carritoLista{
  margin-bottom:15px;
}

.carrito-item{
  font-size:15px;
  margin-bottom:10px;
  line-height:1.4;
  border-bottom:1px dashed #ddd;
  padding-bottom:5px;
}

#carritoTotal{
  font-size:17px;
  font-weight:700;
  color:var(--verde);
  margin-bottom:12px;
}

.btn-vaciar{
  padding:8px 12px;
  border:none;
  border-radius:10px;
  background:#dc3545;
  color:white;
  cursor:pointer;
  font-size:14px;
  transition:0.3s;
}
.btn-vaciar:hover{
  opacity:0.8;
}

.payment-overlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  justify-content:center;
  align-items:center;
  padding:20px;
  animation:fadeIn 0.5s ease;
}

.payment-box{
  background:white;
  width:100%;
  max-width:360px;
  padding:22px;
  border-radius:18px;
  animation:slideUp 0.6s ease;
}

.payment-box h4{
  color:var(--verde);
  font-size:19px;
  margin-bottom:12px;
}

.payment-box input{
  width:100%;
  padding:10px;
  border:1px solid #ccc;
  border-radius:10px;
  margin-bottom:12px;
  font-size:15px;
}

.payment-method{
  display:flex;
  gap:10px;
  margin:10px 0 18px;
}

.btn-method{
  flex:1;
  padding:10px;
  border-radius:10px;
  border:none;
  color:white;
  font-weight:600;
  cursor:pointer;
  transition:0.3s;
}
#btnYape{ background:#720e9e; }
#btnTarjeta{ background:var(--azul); }

#btnPagarAhora{
  width:100%;
  padding:12px;
  background:var(--verde);
  color:white;
  border:none;
  border-radius:12px;
  font-size:15px;
  font-weight:700;
  cursor:pointer;
  margin-bottom:10px;
  transition:0.3s;
}
#btnPagarAhora:hover{
  opacity:0.85;
}

#btnCerrarPago{
  width:100%;
  padding:10px;
  background:#6c757d;
  color:white;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-size:14px;
}

@keyframes fadeIn{ from{opacity:0} to{opacity:1}}
@keyframes popIn{ 0%{transform:scale(0.7);opacity:0} 100%{transform:scale(1);opacity:1}}
@keyframes slideDown{ from{transform:translateY(-25px);opacity:0} to{transform:translateY(0);opacity:1}}
@keyframes slideUp{ from{transform:translateY(20px);opacity:0} to{transform:translateY(0);opacity:1}}
@keyframes slideUp{ from{transform:translateY(40px);opacity:0} to{transform:translateY(0);opacity:1}}
</style>
</head>

<body>

<header>
  <div class="header-left">
    <img class="logo" src="img/logo.png" alt="Utilex logo"/>
    <div class="header-text">
      <div class="brand">Utilex</div>
      <div class="slogan">Todo para tu lista escolar</div>
    </div>
  </div>

  <div class="search-box">
    <input type="text" id="searchInput" placeholder="üîç Buscar productos‚Ä¶"/>
  </div>
</header>

<section class="main-banner">
  <img src="img/banner%201.png" alt="Banner Utilex"
  onerror="this.outerHTML='<p style=\'text-align:center;padding:20px;color:red;font-weight:bold\'>‚ö† Error cargando banner</p>'"/>
</section>

<div class="section-container">

<h2>SECCI√ìN 1: √öTILES ESCOLARES</h2>
<div class="circulos-categorias">

  <div class="circulo" onclick="mostrarProductos('cuadernos')">üìò Cuadernos</div>
  <div class="circulo" onclick="mostrarProductos('escritura')">‚úèÔ∏è L√°pices y Lapiceros</div>
  <div class="circulo" onclick="mostrarProductos('mochilas')">üéí Mochilas</div>
  <div class="circulo" onclick="mostrarProductos('colores')">üé® Colores</div>

</div>

<div id="cuadernos" class="productos">
  <div class="product-card"><img src="img/Cuaderno%20cuadriculado%20anillado.png"/><div class="nombre">Cuaderno A4</div><div class="precio">S/12.50</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">A√±adir</button></div>
</div>

<div id="escritura" class="productos">
  <div class="product-card"><img src="img/lapicero%20azul.png"/><div class="nombre">Lapicero azul</div><div class="precio">S/2.00</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">Agregar</button></div>
</div>

<div id="mochilas" class="productos">
  <div class="product-card"><img src="img/Mochila%20Dragon.png"/><div class="nombre">Mochila escolar</div><div class="precio">S/75.00</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">Agregar</button></div>
</div>

<div id="colores" class="productos">
  <div class="product-card"><img src="img/caja%20de%20colores.png"/><div class="nombre">Caja colores</div><div class="precio">S/18.90</div><div class="cantidad-box"><input value="1" data-max="12"/></div><button class="btn-add" onclick="addCarrito(this)">Agregar</button></div>
</div>

</div>

<section class="carrito-section">
  <h3>üõí Carrito de compras</h3>
  <div id="carritoLista"></div>
  <div id="carritoTotal">Total: S/ 0.00</div>
  <button class="btn-vaciar" onclick="vaciarCarrito()">Vaciar carrito</button>
  <button id="btnPagar" onclick="abrirPago()" class="btn-add">Pagar</button>
</section>

<div class="payment-overlay" id="paymentOverlay">
  <div class="payment-box">
    <h4>üí≥ Simulaci√≥n de pago</h4>
    <input type="text" id="nombreCliente" placeholder="Ingresa tu nombre"/>
    <p>Elige m√©todo de pago:</p>
    <div class="payment-method">
      <button class="btn-method" id="btnYape" onclick="seleccionarMetodo('Yape')">YAPE</button>
      <button class="btn-method" id="btnTarjeta" onclick="seleccionarMetodo('Tarjeta')">TARJETA</button>
    </div>
    <button id="btnPagarAhora" onclick="pagar()">Pagar ahora</button>
    <button id="btnCerrarPago" onclick="cerrarPago()">Cancelar / Volver</button>
  </div>
</div>

<script>
let carrito = [];
let metodoPago = null;

function mostrarProductos(id){
  document.querySelectorAll('.productos').forEach(e => e.style.display='none');
  document.getElementById(id).style.display='grid';
}

function addCarrito(btn){
  const card = btn.closest('.product-card');
  const nombre = card.querySelector('.nombre').innerText;
  const precio = parseFloat(card.querySelector('.precio').innerText.replace('S/',''));
  const input = card.querySelector('input');
  const cantidad = parseInt(input.value);
  const max = parseInt(input.dataset.max);

  if(cantidad > max){
    alert(`Solo puedes agregar m√°ximo ${max} unidades por producto`);
    return;
  }

  const existente = carrito.find(p => p.nombre === nombre);
  if(existente){
    existente.cantidad += cantidad;
    if(existente.cantidad > 12){
      alert("No puedes comprar m√°s de 12 unidades de un mismo producto");
      existente.cantidad = 12;
    }
  } else {
    carrito.push({nombre, precio, cantidad});
  }

  actualizarCarrito();
}

function actualizarCarrito(){
  const caja = document.getElementById('carritoLista');
  const totalCaja = document.getElementById('carritoTotal');
  caja.innerHTML = '';

  let total = 0;
  let totalProductos = 0;

  carrito.forEach(p => {
    total += p.precio * p.cantidad;
    totalProductos += p.cantidad;
    caja.innerHTML += `<div class="carrito-item">${p.nombre} x${p.cantidad} ‚Äî S/${(p.precio * p.cantidad).toFixed(2)}</div>`;
  });

  if(totalProductos > 12){
    alert("El carrito no puede tener m√°s de 12 productos en total");
    carrito = [];
    caja.innerHTML = '';
    total = 0;
  }

  totalCaja.innerText = `Total: S/ ${total.toFixed(2)}`;
}

function vaciarCarrito(){
  carrito = [];
  actualizarCarrito();
}

function abrirPago(){
  if(carrito.length === 0){
    alert("El carrito est√° vac√≠o");
    return;
  }
  document.getElementById('paymentOverlay').style.display='flex';
}

function seleccionarMetodo(m){
  metodoPago = m;
  alert(`M√©todo seleccionado: ${m}`);
}

function pagar(){
  const nombre = document.getElementById('nombreCliente').value.trim();
  if(!nombre){
    alert("Debes escribir tu nombre");
    return;
  }
  if(!metodoPago){
    alert("Debes seleccionar un m√©todo de pago");
    return;
  }

  alert(`‚úÖ Pago simulado con ${metodoPago} a nombre de ${nombre}`);
  cerrarPago();
  vaciarCarrito(); 
  document.querySelectorAll('.productos').forEach(e => e.style.display='none');
}

function cerrarPago(){
  document.getElementById('paymentOverlay').style.display='none';
}
</script>

</body>
</html>
